{"version":3,"sources":["../../src/tests/bookings.spec.js"],"names":["chai","use","chaiHttp","should","baseUrl","token","describe","it","done","booking","trip_id","user_id","seat_number","request","app","post","set","send","end","err","res","have","status","body","be","a","property","data","equal","error","get","trip","patch"],"mappings":"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","sourcesContent":["/* eslint-disable no-undef */\n/* eslint-disable import/no-extraneous-dependencies */\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport app from '../app';\n\nchai.use(chaiHttp);\nchai.should();\n\nconst baseUrl = '/api/v1/bookings';\nconst token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjaGVjayI6dHJ1ZSwiaWF0IjoxNTYzMTk1MDY0LCJleHAiOjE1NjMyMzgyNjR9.uHCJSgljHE6BwEtq2ehWPWOMjCCqu_U7NRe9uQLMfEU';\n\ndescribe('Bookings', () => {\n  describe('POST /', () => {\n    it('should add a new booking', (done) => {\n      const booking = {\n        trip_id: 1,\n        user_id: 2,\n        seat_number: 2,\n      };\n\n      chai\n        .request(app)\n        .post(`${baseUrl}/`)\n        .set('access-token', token)\n        .send(booking)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.should.have.property('data');\n          res.body.data.should.be.a('object');\n          res.body.status.should.be.equal('success');\n          done();\n        });\n    });\n  });\n\n  describe('POST /', () => {\n    it('should not add a new booking', (done) => {\n      const booking = {\n        trip_id: 1,\n        user_id: 2,\n      };\n\n      chai\n        .request(app)\n        .post(`${baseUrl}/`)\n        .set('access-token', token)\n        .send(booking)\n        .end((err, res) => {\n          res.should.have.status(401);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('You have already booked this trip');\n          done();\n        });\n    });\n  });\n\n  describe('POST /', () => {\n    it('should not add a new booking', (done) => {\n      const booking = {\n        trip_id: 1,\n        user_id: 1,\n        seat_number: 2,\n      };\n\n      chai\n        .request(app)\n        .post(`${baseUrl}/`)\n        .set('access-token', token)\n        .send(booking)\n        .end((err, res) => {\n          res.should.have.status(401);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('This seat is already taken');\n          done();\n        });\n    });\n  });\n\n  describe('POST /', () => {\n    it('should not add a new booking', (done) => {\n      const booking = {\n        trip_id: 1,\n        user_id: 2,\n      };\n\n      chai\n        .request(app)\n        .post(`${baseUrl}/`)\n        .send(booking)\n        .end((err, res) => {\n          res.should.have.status(401);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('Token Not Found');\n          done();\n        });\n    });\n  });\n\n  describe('POST /', () => {\n    it('should not add a new booking', (done) => {\n      const booking = {\n        trip_id: 1,\n        user_id: 2,\n      };\n\n      chai\n        .request(app)\n        .post(`${baseUrl}/`)\n        .set('access-token', 'eyJhbGciOiJIUzI1NiIsInR6cCI6IkpXVCJ9.eyJjaGVjayI6dHJ1ZSwiaWF0IjoxNTYyNjY1ODgxLCJleHAiOjE1NjI3MDkwODF9._tCKqBZh9oUFx95PBlRVa93CNOFbuz91ngaU-0r0RAz')\n        .send(booking)\n        .end((err, res) => {\n          res.should.have.status(401);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('Invalid Token');\n          done();\n        });\n    });\n  });\n\n  describe('POST /', () => {\n    it('should not add a new booking', (done) => {\n      const booking = {\n        user_id: 2,\n      };\n\n      chai\n        .request(app)\n        .post(`${baseUrl}/`)\n        .set('access-token', token)\n        .send(booking)\n        .end((err, res) => {\n          res.should.have.status(401);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('Incomplete booking data');\n          done();\n        });\n    });\n  });\n\n  describe('GET /', () => {\n    it('should get all bookings', (done) => {\n      chai\n        .request(app)\n        .get(`${baseUrl}/`)\n        .send({\n          user_id: 2,\n        })\n        .set('access-token', token)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.should.have.property('data');\n          res.body.data.should.be.a('array');\n          res.body.status.should.be.equal('success');\n          done();\n        });\n    });\n  });\n\n  describe('GET /', () => {\n    it('should get all bookings', (done) => {\n      chai\n        .request(app)\n        .get(`${baseUrl}/`)\n        .send({\n          user_id: 1,\n        })\n        .set('access-token', token)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.should.have.property('data');\n          res.body.data.should.be.a('array');\n          res.body.status.should.be.equal('success');\n          done();\n        });\n    });\n  });\n\n  describe('GET /', () => {\n    it('should not get all bookings', (done) => {\n      chai\n        .request(app)\n        .get(`${baseUrl}/`)\n        .set('access-token', token)\n        .end((err, res) => {\n          res.should.have.status(404);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('User ID not specified');\n          done();\n        });\n    });\n  });\n\n  describe('PATCH /:booking_id', () => {\n    it('should delete a booking', (done) => {\n      const trip = {\n        user_id: 2,\n      };\n\n      chai\n        .request(app)\n        .patch(`${baseUrl}/1`)\n        .set('access-token', token)\n        .send(trip)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.should.have.property('data');\n          res.body.data.should.be.a('object');\n          res.body.status.should.be.equal('success');\n          done();\n        });\n    });\n  });\n\n  describe('PATCH /:booking_id', () => {\n    it('should delete a booking', (done) => {\n      const trip = {\n        user_id: 3,\n      };\n\n      chai\n        .request(app)\n        .patch(`${baseUrl}/1`)\n        .set('access-token', token)\n        .send(trip)\n        .end((err, res) => {\n          res.should.have.status(404);\n          res.body.should.be.a('object');\n          res.body.should.have.property('status');\n          res.body.status.should.be.equal('error');\n          res.body.should.have.property('error');\n          res.body.error.should.be.equal('Booking not found');\n          done();\n        });\n    });\n  });\n});\n"],"file":"bookings.spec.js"}